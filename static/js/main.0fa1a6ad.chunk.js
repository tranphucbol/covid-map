(this["webpackJsonpreact-covid"]=this["webpackJsonpreact-covid"]||[]).push([[0],{27:function(e,t,a){e.exports=a(47)},32:function(e,t,a){},33:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(9),o=a.n(l),c=(a(32),a(33),a(8)),i=function(e){var t=e.patient,a=e.height;return n.a.createElement("div",{className:"flex flex-column shadow rounded-md font-mono",style:{height:a}},n.a.createElement("h2",{className:"px-3 py-3 border-t border-gray-300 font-semibold shadow rounded-t-md text-gray-700"},"Patient Info"),t&&n.a.createElement("ul",{className:"text-blue-700 font-mono p-3 overflow-auto scrollbar-w-2 scrollbar-track-gray-lighter scrollbar-thumb-rounded scrollbar-thumb-gray scrolling-touch"},n.a.createElement("li",null,"Name: ",t.name),n.a.createElement("li",null,"Address: ",t.address),n.a.createElement("li",null,"Note: ",t.note),n.a.createElement("li",null,"Verify Date: ",t.verifyDate)))},s=a(50),u=a(52),m=a(49),f=a(51),d=a(13),v=a(7),p=a.n(v),g=d.scroller,h=function(e){var t=e.date,a=e.patients,r=e.currentPatient,l=e.onPatientMarkerClicked;a=a||[];var o=r?[r.lat,r.lng]:[10.762887,106.6800684],c=p()("08-12-2019","DD-MM-YYYY").valueOf(),i=p()(t,"DD-MM-YYYY").add(86400,"s").valueOf(),d=a.filter((function(e){var t=new Date(e.verifyDate).getTime();return t>=c&&t<i})).sort((function(e,t){return t.verifyDate.localeCompare(e.verifyDate)}));return n.a.createElement(s.a,{className:"rounded-md border-gray-600 shadow",animate:!0,center:o,zoom:4,style:{height:600}},n.a.createElement(u.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png   "}),d.map((function(e,t){return n.a.createElement(m.a,{key:t,position:[e.lat,e.lng],onClick:function(){l(e),g.scrollTo("[".concat(e.lat,",").concat(e.lng,"]"),{containerId:"patient-list",smooth:!0})}},n.a.createElement(f.a,null,n.a.createElement("ul",null,n.a.createElement("li",null,"Name: ",e.name),n.a.createElement("li",null,"Address: ",e.address),n.a.createElement("li",null,"Note: ",e.note),n.a.createElement("li",null,"Verify date: ",e.verifyDate))))})))},b=d.Element,y=function(e){var t=e.height,a=e.patients,r=e.onPatientMarkerClicked,l=e.date;a=a||[];var o=p()("08-12-2019","DD-MM-YYYY").valueOf(),c=p()(l,"DD-MM-YYYY").add(86400,"s").valueOf(),i=a.filter((function(e){var t=new Date(e.verifyDate).getTime();return t>=o&&t<c})).sort((function(e,t){return t.verifyDate.localeCompare(e.verifyDate)}));return n.a.createElement("div",{className:"flex flex-column shadow rounded-md font-mono",style:{height:t}},n.a.createElement("h2",{className:"px-3 py-3 border-t border-gray-300 font-semibold shadow rounded-t-md text-gray-700"},"Patient List ",l),n.a.createElement("ul",{id:"patient-list",className:"covid-list text-blue-700 rounded-b-md overflow-auto scrollbar-w-2 scrollbar-track-gray-lighter scrollbar-thumb-rounded scrollbar-thumb-gray scrolling-touch"},i.map((function(e,t){return n.a.createElement(b,{key:t,name:"[".concat(e.lat,",").concat(e.lng,"]")},n.a.createElement("li",{className:"px-3 py-2 border-t border-gray-300",onClick:function(){r(e)}},"Name: ",e.name))}))))};function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var w=n.a.createElement("path",{fill:"currentColor",d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z",className:""}),x=function(e){var t=e.svgRef,a=e.title,r=O(e,["svgRef","title"]);return n.a.createElement("svg",E({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"play",role:"img",viewBox:"0 0 448 512",className:"svg-inline--fa fa-play fa-w-14 fa-3x",ref:t},r),a?n.a.createElement("title",null,a):null,w)},N=n.a.forwardRef((function(e,t){return n.a.createElement(x,E({svgRef:t},e))}));a.p;function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var k=n.a.createElement("path",{fill:"currentColor",d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z",className:""}),Y=function(e){var t=e.svgRef,a=e.title,r=D(e,["svgRef","title"]);return n.a.createElement("svg",j({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"pause",role:"img",viewBox:"0 0 448 512",className:"svg-inline--fa fa-pause fa-w-14",ref:t},r),a?n.a.createElement("title",null,a):null,k)},M=n.a.forwardRef((function(e,t){return n.a.createElement(Y,j({svgRef:t},e))})),C=(a.p,function(e){var t=e.startDate,a=e.onRangeSliderChanged;t=t||"08-12-2019";var l="DD-MM-YYYY",o=p()(t,l),i=p()().diff(o,"days"),s=Object(r.useState)({value:0,label:o.format(l)}),u=Object(c.a)(s,2),m=u[0],f=u[1],d=Object(r.useState)(!1),v=Object(c.a)(d,2),g=v[0],h=v[1],b=Object(r.useState)(),y=Object(c.a)(b,2),E=y[0],O=y[1],w=function(e){var r=!g;if(h(r),r){var n=setInterval((function(){f((function(e){var r=e.value+1;r>=i-1&&clearInterval(n);var o=p()(t,l).add(r,"days").format(l);return a(o),{value:r,label:o}}))}),500);O(n)}else clearInterval(E)},x=g?n.a.createElement(M,{className:"svg-button mr-2",width:"25",onClick:w}):n.a.createElement(N,{className:"svg-button mr-2",width:"25",onClick:w});return n.a.createElement("div",{className:"shadow rounded-md p-3"},n.a.createElement("h2",{className:"text-blue-700 font-mono mb-2 text-lg"},"Date: ",m.label),n.a.createElement("div",{className:"flex flex-row items-center"},x,n.a.createElement("input",{type:"range",min:"0",max:i-1,value:m.value,onChange:function(e){var r=Number(e.target.value),n=p()(t,l).add(r,"days").format(l);f({value:r,label:n}),a(n)},className:"slider"})))}),P=function(e){var t=Object(r.useState)("08-12-2019"),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(r.useState)(),u=Object(c.a)(s,2),m=u[0],f=u[1],d=Object(r.useState)([]),v=Object(c.a)(d,2),p=v[0],g=v[1];Object(r.useEffect)((function(){fetch("https://cors-anywhere.herokuapp.com/https://maps.vnpost.vn/apps/covid19/api/patientapi/list",{headers:{Origin:"localhost"}}).then((function(e){return e.json()})).then((function(e){g(e.data)}),(function(e){}))}),[]);var b=function(e){f(e)};return n.a.createElement("div",{className:"container mx-auto"},n.a.createElement("div",{className:"w-full"},n.a.createElement("h2",{className:"font-mono text-center text-3xl my-3 text-gray-700"},"COVID MAP"),n.a.createElement("div",{className:"grid grid-cols-12 gap-4"},n.a.createElement("div",{className:"col-span-9"},n.a.createElement(h,{date:l,currentPatient:m,patients:p,onPatientMarkerClicked:b})),n.a.createElement("div",{className:"col-span-3",style:{height:600}},n.a.createElement("div",{className:"grid grid-rows-2 grid-flow-col gap-4"},n.a.createElement(y,{date:l,height:292,patients:p,onPatientMarkerClicked:b}),n.a.createElement("div",null,n.a.createElement(i,{height:292,patient:m}))))),n.a.createElement("div",{className:"my-3"},n.a.createElement(C,{onRangeSliderChanged:function(e){o(e)}}))))};var S=function(){return n.a.createElement(P,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.0fa1a6ad.chunk.js.map